"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[33],{8453:(e,r,s)=>{s.d(r,{R:()=>a,x:()=>i});var n=s(6540);const t={},o=n.createContext(t);function a(e){const r=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),n.createElement(o.Provider,{value:r},e.children)}},8474:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"contributing/releasing","title":"Release process","description":"The central [Android-Password-Store] repository houses three subprojects that are released separately from each other and with different methods.","source":"@site/docs/contributing/releasing.md","sourceDirName":"contributing","slug":"/contributing/releasing","permalink":"/docs/contributing/releasing","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Issue tracking","permalink":"/docs/contributing/issue-tracking"},"next":{"title":"Reporting bugs","permalink":"/docs/contributing/reporting-bugs"}}');var t=s(4848),o=s(8453);const a={},i="Release process",l={},d=[{value:"Library modules",id:"library-modules",level:2},{value:"Password Store app",id:"password-store-app",level:2}];function c(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"release-process",children:"Release process"})}),"\n",(0,t.jsxs)(r.p,{children:["The central ",(0,t.jsx)(r.a,{href:"https://github.com/android-password-store/Android-Password-Store",children:"Android-Password-Store"})," repository houses three subprojects that are released separately from each other and with different methods."]}),"\n",(0,t.jsx)(r.h2,{id:"library-modules",children:"Library modules"}),"\n",(0,t.jsxs)(r.p,{children:["The ",(0,t.jsx)(r.code,{children:"autofill-parser"})," and ",(0,t.jsx)(r.code,{children:"openpgp-ktx"})," libraries are available on the ",(0,t.jsx)(r.a,{href:"https://search.maven.org/search?q=g:%22com.github.android-password-store%22",children:"MavenCentral"})," repository. The process for creating a new release is as follows:"]}),"\n",(0,t.jsxs)(r.ol,{children:["\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:["Bump the version number for the library in ",(0,t.jsx)(r.code,{children:"$projectDir/gradle.properties"})]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:["Push a new tag following the format ",(0,t.jsx)(r.code,{children:"$projectDir-v$version"}),", for example, ",(0,t.jsx)(r.code,{children:"v4.0.0"})," for ",(0,t.jsx)(r.code,{children:"autofill-parser"})," needs a ",(0,t.jsx)(r.code,{children:"autofill-parser-v4.0.0"})," tag."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"password-store-app",children:"Password Store app"}),"\n",(0,t.jsx)(r.p,{children:"Releasing a new major version of the app is a slightly more involved process."}),"\n",(0,t.jsxs)(r.ol,{children:["\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:["Each release is accompanied by a ",(0,t.jsx)(r.a,{href:"https://github.com/android-password-store/Android-Password-Store/milestones",children:"milestone"}),", so go ahead and close it. This will set off a GitHub Action that will generate a pull request with the changelog and the version updated."]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsx)(r.p,{children:"Merge the pull request, and note the target branch against which it was created."}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:["Tag the new state of the aforementioned branch following the exact semantic version as in the milestone. This means the tag should be ",(0,t.jsx)(r.code,{children:"v1.2.0"}),", not ",(0,t.jsx)(r.code,{children:"1.2.0"})," or ",(0,t.jsx)(r.code,{children:"1.2"})," or ",(0,t.jsx)(r.code,{children:"v1.2"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsx)(r.p,{children:"Push the tag to GitHub, and allow CI to generate artifacts and a draft release that can then be reviewed and made public."}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:["The maintainer in charge of Play Store deployment then takes the generated binaries from this GitHub release and uploads them to Play Store. In the future this manual step should be eliminated in favour of a Gradle-backed automatic deployment setup, using tools like ",(0,t.jsx)(r.a,{href:"https://github.com/Triple-T/gradle-play-publisher",children:"Gradle-Play-Publisher"}),"."]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);